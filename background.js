parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"s8VO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GROUP_ID_NONE=exports.TAB_STATUSES=exports.COLORS=exports.TITLES_KEY=void 0,exports.TITLES_KEY="titles",exports.COLORS={red:"#FF8C76",yellow:"#FFEA6F",blue:"#7CBBFF",grey:"#d9d8d8",green:"#AEFFD1",pink:"#FF9FE7",purple:"#E8D2FF",cyan:"#A2E9FF"},exports.TAB_STATUSES={complete:"complete",loading:"loading"},exports.GROUP_ID_NONE=-1;
},{}],"PaNQ":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,r,t,o){return new(t||(t=Promise))(function(n,s){function u(e){try{a(o.next(e))}catch(r){s(r)}}function i(e){try{a(o.throw(e))}catch(r){s(r)}}function a(e){var r;e.done?n(e.value):(r=e.value,r instanceof t?r:new t(function(e){e(r)})).then(u,i)}a((o=o.apply(e,r||[])).next())})},r=this&&this.__generator||function(e,r){var t,o,n,s,u={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(s){return function(i){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;u;)try{if(t=1,o&&(n=2&s[0]?o.return:s[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,s[1])).done)return n;switch(o=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return u.label++,{value:s[1],done:!1};case 5:u.label++,o=s[1],s=[0];continue;case 7:s=u.ops.pop(),u.trys.pop();continue;default:if(!(n=(n=u.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){u=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){u.label=s[1];break}if(6===s[0]&&u.label<n[1]){u.label=n[1],n=s;break}if(n&&u.label<n[2]){u.label=n[2],u.ops.push(s);break}n[2]&&u.ops.pop(),u.trys.pop();continue}s=r.call(e,u)}catch(i){s=[6,i],o=0}finally{t=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,i])}}},t=this&&this.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;var o=Array(e),n=0;for(r=0;r<t;r++)for(var s=arguments[r],u=0,i=s.length;u<i;u++,n++)o[n]=s[u];return o};Object.defineProperty(exports,"__esModule",{value:!0}),exports.updateGroup=exports.combineTabs=exports.createTabs=exports.getWindowTabs=exports.openGroup=exports.saveAllGroups=exports.saveGroup=exports.removeStorageGroups=exports.getWindowGroups=exports.getStorageGroups=exports.removeStorageGroup=exports.setStorageGroup=exports.clearStorage=exports.removeStorage=exports.setStorage=exports.getStorage=exports.toWindowGroup=void 0;var o=require("./constants"),n=function(e){return{id:e.id,title:e.title,color:e.color,collapsed:e.collapsed}};exports.toWindowGroup=n;var s=function(t){return e(void 0,void 0,Promise,function(){return r(this,function(e){return[2,new Promise(function(e){chrome.storage.sync.get(t,function(r){return e(r[t])})})]})})};exports.getStorage=s;var u=function(t,o){return e(void 0,void 0,Promise,function(){return r(this,function(e){return[2,new Promise(function(e){var r;chrome.storage.sync.set(((r={})[t]=o,r),e)})]})})};exports.setStorage=u;var i=function(t){return e(void 0,void 0,Promise,function(){return r(this,function(e){return[2,new Promise(function(e){chrome.storage.sync.remove(t,e)})]})})};exports.removeStorage=i;var a=function(){return e(void 0,void 0,Promise,function(){return r(this,function(e){switch(e.label){case 0:return[4,new Promise(function(e){chrome.storage.sync.clear(e)})];case 1:return e.sent(),[4,exports.setStorage(o.TITLES_KEY,[])];case 2:return e.sent(),[2]}})})};exports.clearStorage=a;var c=function(n){return e(void 0,void 0,Promise,function(){var e,s,u,i,a,c;return r(this,function(r){switch(r.label){case 0:return e=n.title,[4,exports.getStorage(o.TITLES_KEY)];case 1:return s=r.sent(),u=new Set(t(s,[e])),a=(i=Promise).all,[4,exports.setStorage(o.TITLES_KEY,Array.from(u))];case 2:return c=[r.sent()],[4,exports.setStorage(e,n)];case 3:return[2,a.apply(i,[c.concat([r.sent()])])]}})})};exports.setStorageGroup=c;var p=function(t){return e(void 0,void 0,Promise,function(){var e,n,s,u,i;return r(this,function(r){switch(r.label){case 0:return[4,exports.getStorage(o.TITLES_KEY)];case 1:return e=r.sent(),n=e.filter(function(e){return e!==t}),u=(s=Promise).all,[4,exports.setStorage(o.TITLES_KEY,n)];case 2:return i=[r.sent()],[4,exports.removeStorage(t)];case 3:return u.apply(s,[i.concat([r.sent()])]),[2,n]}})})};exports.removeStorageGroup=p;var l=function(){return e(void 0,void 0,Promise,function(){var t;return r(this,function(n){switch(n.label){case 0:return[4,exports.getStorage(o.TITLES_KEY)];case 1:return t=n.sent(),[2,Promise.all(t.map(function(t){return e(void 0,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return[4,exports.getStorage(t)];case 1:return[2,e.sent()]}})})}))]}})})};exports.getStorageGroups=l;var f=function(t,o){return void 0===o&&(o=chrome.windows.WINDOW_ID_CURRENT),e(void 0,void 0,Promise,function(){return r(this,function(e){return[2,new Promise(function(e){chrome.tabGroups.query({title:t,windowId:o},function(r){var t=r.map(exports.toWindowGroup);e(t)})})]})})};exports.getWindowGroups=f;var v=function(){return e(void 0,void 0,Promise,function(){var e,t,o,n,s;return r(this,function(r){switch(r.label){case 0:return[4,exports.getStorageGroups()];case 1:return e=r.sent(),[4,exports.getWindowGroups()];case 2:t=r.sent(),o=t.map(function(e){return e.title}),n=e.filter(function(e){return o.includes(e.title)}).map(function(e){return e.title}),s=0,r.label=3;case 3:return s<n.length?[4,exports.removeStorageGroup(n[s])]:[3,6];case 4:r.sent(),r.label=5;case 5:return s++,[3,3];case 6:return[2,n]}})})};exports.removeStorageGroups=v;var d=function(t){return e(void 0,void 0,Promise,function(){var e,o,n,s,u,i;return r(this,function(r){switch(r.label){case 0:return[4,exports.getWindowGroups(t)];case 1:return e=r.sent(),o=e[0].color,n=e.map(function(e){return e.id}),[4,exports.getWindowTabs()];case 2:return s=r.sent(),u=s.filter(function(e){return n.includes(e.groupId)}).map(function(e){return e.url}),i={title:t,color:o,urls:u},[4,exports.setStorageGroup(i)];case 3:return r.sent(),[2,i]}})})};exports.saveGroup=d;var g=function(){return e(void 0,void 0,Promise,function(){var e,t;return r(this,function(r){switch(r.label){case 0:return[4,exports.getWindowGroups()];case 1:e=r.sent(),t=0,r.label=2;case 2:return t<e.length?[4,exports.saveGroup(e[t].title)]:[3,5];case 3:r.sent(),r.label=4;case 4:return t++,[3,2];case 5:return[2]}})})};exports.saveAllGroups=g;var m=function(t){return e(void 0,void 0,Promise,function(){var e,o,n,s,u,i,a,c,p,l;return r(this,function(r){switch(r.label){case 0:return[4,exports.getStorage(t)];case 1:return e=r.sent(),[4,exports.getWindowGroups(t)];case 2:return(o=r.sent()[0])?(n=o.id,s=o.collapsed,[4,exports.updateGroup(n,{collapsed:!s})]):[3,4];case 3:return r.sent(),[2];case 4:return e?(u=e.title,i=e.color,a=e.urls,[4,exports.createTabs(a)]):[3,8];case 5:return c=r.sent(),p=c.map(function(e){return e.id}),[4,exports.combineTabs(p)];case 6:return l=r.sent(),[4,exports.updateGroup(l,{title:u,color:i})];case 7:r.sent(),r.label=8;case 8:return[2]}})})};exports.openGroup=m;var x=function(t){return void 0===t&&(t=chrome.windows.WINDOW_ID_CURRENT),e(void 0,void 0,Promise,function(){return r(this,function(e){return[2,new Promise(function(e){chrome.tabs.query({windowId:t},e)})]})})};exports.getWindowTabs=x;var h=function(t){return e(void 0,void 0,Promise,function(){return r(this,function(e){return[2,Promise.all(t.map(function(e){return new Promise(function(r){chrome.tabs.create({url:e,active:!1},r)})}))]})})};exports.createTabs=h;var w=function(t){return e(void 0,void 0,Promise,function(){return r(this,function(e){return[2,new Promise(function(e){chrome.tabs.group({tabIds:t},e)})]})})};exports.combineTabs=w;var b=function(t,o){return e(void 0,void 0,Promise,function(){return r(this,function(e){return[2,new Promise(function(e){chrome.tabGroups.update(t,o,e)})]})})};exports.updateGroup=b;
},{"./constants":"s8VO"}],"uL3H":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{c(r.next(e))}catch(t){a(t)}}function u(e){try{c(r.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,u)}c((r=r.apply(e,t||[])).next())})},t=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(u){a=[6,u],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};Object.defineProperty(exports,"__esModule",{value:!0});var n=require("./services/chrome"),r=require("./services/chrome/constants");chrome.runtime.onInstalled.addListener(function(){return e(void 0,void 0,void 0,function(){return t(this,function(e){switch(e.label){case 0:return[4,n.getStorage(r.TITLES_KEY)];case 1:return e.sent()?[3,3]:[4,n.setStorage(r.TITLES_KEY,[])];case 2:e.sent(),e.label=3;case 3:return[2]}})})}),chrome.tabs.onUpdated.addListener(function(o,a,i){return e(void 0,void 0,void 0,function(){var e,o,a,u;return t(this,function(t){switch(t.label){case 0:return e=i.groupId,o=i.status,e===r.GROUP_ID_NONE||o!==r.TAB_STATUSES.complete?[2]:[4,n.getWindowGroups()];case 1:return a=t.sent(),u=a.find(function(t){return t.id===e}).title,[4,n.getStorage(u)];case 2:return t.sent()?[4,n.saveGroup(u)]:[3,4];case 3:t.sent(),t.label=4;case 4:return[2]}})})});
},{"./services/chrome":"PaNQ","./services/chrome/constants":"s8VO"}]},{},["uL3H"], null)
//# sourceMappingURL=/background.js.map